import{a as d}from"dist/c/c-TRUED2VQ.js";import{a as h,b as c}from"dist/c/c-HPNYEATH.js";import"dist/c/c-KBGA43VD.js";import"dist/c/c-GKMUSAHJ.js";import"dist/c/c-NENDH76W.js";import"dist/c/c-MM4QDY4C.js";import{a,b as u}from"dist/c/c-LFPVDM6T.js";import"dist/c/c-6Q2QWVBP.js";import"dist/c/c-TZUTJDVS.js";import"dist/c/c-ADAZFTKP.js";import"dist/c/c-323MPI6P.js";import"dist/c/c-CYK2MONU.js";import"dist/c/c-6PLGKTMR.js";import"dist/c/c-JXUR4K7H.js";import"dist/c/c-IDIE67AB.js";import"dist/c/c-3E2ALMRI.js";import"dist/c/c-GDKDTAPO.js";import"dist/c/c-D4FJECGV.js";import"dist/c/c-J2LR27TH.js";import"dist/c/c-LW7ZHPL2.js";import"dist/c/c-LECXSGS2.js";import"dist/c/c-QG73IUPX.js";import"dist/c/c-TRAMVNXD.js";import"dist/c/c-VCYABVGR.js";import"dist/c/c-ILKXH3EU.js";import"dist/c/c-THLH6QEI.js";import"dist/c/c-Q2M4LT2Y.js";import"dist/c/c-AASUEYFF.js";import"dist/c/c-7MY4FRIV.js";import"dist/c/c-FLQDD5W6.js";import"dist/c/c-VGRD66VK.js";import"dist/c/c-VSQIALSL.js";import"dist/c/c-647BDQVB.js";import"dist/c/c-4KAOSYMS.js";import"dist/c/c-7XDS2E3O.js";import"dist/c/c-ZPRJAUJS.js";import"dist/c/c-NOYQ2V6H.js";import"dist/c/c-NWI3IXGL.js";import"dist/c/c-DUBDCQPG.js";import"dist/c/c-C4ELSJGK.js";import{o,p as w}from"dist/c/c-WJU64RT4.js";import"dist/c/c-P7TDYH2K.js";import"dist/c/c-GHXNGV7G.js";import"dist/c/c-R2ZIKGWF.js";import"dist/c/c-EK65EX7D.js";import"dist/c/c-WZT27OBV.js";import"dist/c/c-J52F52RJ.js";import"dist/c/c-4DXBADYR.js";import"dist/c/c-AQIECKQR.js";import"dist/c/c-PQ222MYY.js";import"dist/c/c-MVSRRX3B.js";import"dist/c/c-KNUKJBB6.js";import"dist/c/c-JBU3E5FJ.js";import"dist/c/c-SMKCRPB7.js";import"dist/c/c-NKKTLFPU.js";import"dist/c/c-DVXLCNRC.js";import"dist/c/c-SPO4YIJK.js";import"dist/c/c-IKQSP3I5.js";import"dist/c/c-IOID33GM.js";import"dist/c/c-YDQL54SX.js";import"dist/c/c-4MHJC562.js";import{b as m}from"dist/c/c-O6VQZMRI.js";import"dist/c/c-43Y5K2SV.js";import"dist/c/c-Q5O4ZW2A.js";import{d as _}from"dist/c/c-FP2E5KKM.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
