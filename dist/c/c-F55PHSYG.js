import{a as f}from"dist/c/c-FWLFRNQQ.js";import{p as u,q as P}from"dist/c/c-7XIZHD3S.js";import"dist/c/c-NYKGKPC2.js";import"dist/c/c-PETVQG3A.js";import"dist/c/c-DACGLI2Q.js";import"dist/c/c-RTXWLIMX.js";import"dist/c/c-GKMUSAHJ.js";import"dist/c/c-2MSLFSDK.js";import"dist/c/c-7BJ3Y4OK.js";import"dist/c/c-3LIG6AXS.js";import"dist/c/c-APJE67RM.js";import"dist/c/c-CZWVIXQR.js";import"dist/c/c-MM4QDY4C.js";import"dist/c/c-FRDVAC6P.js";import"dist/c/c-26AJT3QS.js";import"dist/c/c-NOIFHIQI.js";import"dist/c/c-FK5OVGWM.js";import"dist/c/c-TZUTJDVS.js";import{o as E}from"dist/c/c-D4FJECGV.js";import"dist/c/c-LW7ZHPL2.js";import"dist/c/c-LECXSGS2.js";import"dist/c/c-QG73IUPX.js";import"dist/c/c-TRAMVNXD.js";import"dist/c/c-ILKXH3EU.js";import"dist/c/c-RTHFL57O.js";import"dist/c/c-IN76GA23.js";import"dist/c/c-Z6IWFO3I.js";import"dist/c/c-FGFO7BMW.js";import"dist/c/c-5LG5K2RS.js";import"dist/c/c-Q2M4LT2Y.js";import"dist/c/c-JUM4GBMB.js";import"dist/c/c-VGRD66VK.js";import"dist/c/c-7XDS2E3O.js";import"dist/c/c-DUBDCQPG.js";import"dist/c/c-WJU64RT4.js";import"dist/c/c-P7TDYH2K.js";import"dist/c/c-GHXNGV7G.js";import"dist/c/c-R2ZIKGWF.js";import"dist/c/c-EK65EX7D.js";import"dist/c/c-WZT27OBV.js";import"dist/c/c-J52F52RJ.js";import"dist/c/c-4DXBADYR.js";import"dist/c/c-AQIECKQR.js";import"dist/c/c-PQ222MYY.js";import"dist/c/c-MVSRRX3B.js";import"dist/c/c-SMKCRPB7.js";import"dist/c/c-NKKTLFPU.js";import{D as p,F as d}from"dist/c/c-DVXLCNRC.js";import{a as V}from"dist/c/c-SPO4YIJK.js";import"dist/c/c-IOID33GM.js";import"dist/c/c-YDQL54SX.js";import"dist/c/c-4MHJC562.js";import"dist/c/c-O6VQZMRI.js";import"dist/c/c-43Y5K2SV.js";import"dist/c/c-Q5O4ZW2A.js";import{d as m}from"dist/c/c-FP2E5KKM.js";P();var r=m(V());E();d();function k({analytics:i,sharedState:t}){let n=(0,r.useRef)(),{ref:y,inView:v}=f(),o=t.useSnapshot(),c=(0,r.useCallback)(e=>{e instanceof CustomEvent&&i?.sendEvent("video_start",e.detail)},[i]),l=(0,r.useCallback)(e=>{e instanceof CustomEvent&&i?.sendEvent("video_complete",e.detail)},[i]),a=(0,r.useCallback)(()=>{t.isReady=!0},[t]);(0,r.useEffect)(()=>{let e=n.current?.events;return e&&e.addEventListener("start",c),e&&e.addEventListener("stop",l),e&&e.addEventListener("ready",a),()=>{e&&e.removeEventListener("start",c),e&&e.removeEventListener("stop",l),e&&e.removeEventListener("ready",a)}},[l,c,a]),(0,r.useEffect)(()=>{t.player=n.current});let s=!t.widget.controls;return(0,r.useEffect)(()=>{s&&n.current&&t.widget.custom_controls?.playbackType==="Click"&&o.clickCount>0&&n.current.toggle()},[o.clickCount,s]),(0,r.useEffect)(()=>{s&&n.current&&t.widget.custom_controls?.playbackType==="Hover"&&(t.isPointerIn===!0&&n.current.play(),t.isPointerIn===!1&&n.current.stop())},[o.isPointerIn,s]),p(u,{ref:y,widget:o.widget,isTabVisible:o.isStarted,isVisible:v,useLqip:!1,playerRef:n,pageScale:o.pageScale,renderSimpleVersion:o.renderSimpleVersion,controlsCursorStyle:o.controlsCursorStyle})}export{k as VideoPlayerViewerOld};
